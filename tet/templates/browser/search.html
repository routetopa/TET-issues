{% extends "base.html" %}
{% load staticfiles %}

{% block title %} Search results {% endblock title %}

{% block content %}

            <div class="container">
                <div class="container">

                    <div class="row search-ui">

                        <div class="span3 text-right">
                            {image}
                        </div>

                        <div class="span8 offset1 text-left">

                            <div class="row">

                                <form class="form-search" action="/search" method="get">
                                    <div class="input-append">
                                        <input type="text" class="span5 main-search" name="query" value="{{ query }}" />
                                        <button type="submit" class="span2 pull-right btn main-search-btn"> <i class="fa fa-search" aria-hidden="true"></i> Search </button>
                                    </div>
                                </form>

                            </div>

                        </div>

                    </div>

                </div>

                {% if has_results == True %}

                <div class="row">
                    <div class="span3" id="results-filter">
                        <form class="form">
                            <h3>Refine by</h3>
                            <div class="panel-group">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h5 class="panel-title">
                                            <a data-toggle="collapse" href="#collapse1"> <i class="fa fa-map-marker" aria-hidden="true"></i>
                                                Location</a>
                                        </h5>
                                    </div>
                                    <div id="collapse1" class="panel-collapse">
                                        <ul class="list-group unstyled">
                                            <li class="list-group-item">
                                                <span class="result-label">Galway</span>
                                                <span class="results-count">( 12 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">Dublin</span>
                                                <span class="results-count">( 3 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">Cork</span>
                                                <span class="results-count">( 1 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

<!--                            <hr>-->

                            <div class="panel-group">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h5 class="panel-title">
                                            <a data-toggle="collapse" href="#collapse2"><i class="fa fa-calendar" aria-hidden="true"></i> Period</a>
                                        </h5>
                                    </div>
                                    <div id="collapse2" class="panel-collapse">
                                        <ul class="list-group unstyled">
                                            <li class="list-group-item">
                                                <span class="result-label">2014</span>
                                                <span class="results-count">( 7 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">2015</span>
                                                <span class="results-count">( 15 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">2016</span>
                                                <span class="results-count">( 4 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
<!--                            <hr>-->
                            <div class="panel-group">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h5 class="panel-title">
                                            <a data-toggle="collapse" href="#collapse3"><i class="fa fa-tags" aria-hidden="true"></i> Themes</a>
                                        </h5>
                                    </div>
                                    <div id="collapse3" class="panel-collapse">
                                        <ul class="list-group unstyled">
                                            <li class="list-group-item">
                                                <span class="result-label">Education</span>
                                                <span class="results-count">( 1 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">Health</span>
                                                <span class="results-count">( 6 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">Energy</span>
                                                <span class="results-count">( 3 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
<!--                            <hr>-->
                            <div class="panel-group">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h5 class="panel-title">
                                            <a data-toggle="collapse" href="#collapse3"><i class="fa fa-database" aria-hidden="true"></i> Content</a>
                                        </h5>
                                    </div>
                                    <div id="collapse3" class="panel-collapse">
                                        <ul class="list-group unstyled">
                                            <li class="list-group-item">
                                                <span class="result-label">Address </span>
                                                <span class="results-count">( 4 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">Email</span>
                                                <span class="results-count">( 6 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="result-label">Phone number</span>
                                                <span class="results-count">( 1 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

<!--                            <hr>-->

                            <div>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h5 class="panel-title">
                                            <a data-toggle="collapse" href="#collapse4"><i class="fa fa-files-o" aria-hidden="true"></i>
                                                Format</a>
                                        </h5>
                                    </div>
                                    <div id="collapse4" class="panel-collapse">
                                        <ul class="list-group unstyled">
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="xls">Spreadsheet</span>
                                                <span class="results-count">( 3 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="csv">CSV</span>
                                                <span class="results-count">( 6 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="json">JSON</span>
                                                <span class="results-count">( 1 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="api">API</span>
                                                <span class="results-count">( 1 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="graph">Graph</span>
                                                <span class="results-count">( 2 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="txt">Text</span>
                                                <span class="results-count">( 6 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                            <li class="list-group-item">
                                                <span class="label result-label" data-format="pdf">PDF</span>
                                                <span class="results-count">( 6 )</span>
                                                <input type="checkbox" class="pull-right">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="span9" id="search-results">

                        <div class="row order-by-header">
                            <div class="span3 text-left"><h3>Order by:</h3></div>
                            <div class="span2 text-right active-filter"><a href="#" class="sort-btn">Relevance <i class="fa fa-sort-amount-asc" aria-hidden="true"></i></a></div>
                            <div class="span2 text-right"><a href="#" class="sort-btn">Name <i class="fa fa-sort-amount-desc" aria-hidden="true"></i></a></div>
                            <div class="span2 text-right"><a href="#" class="sort-btn">Date <i class="fa fa-sort-amount-asc" aria-hidden="true"></i></a></div>

                        </div>

                        <ul class="dataset-list unstyled">

                            {% for dataset in search_results %}
                                {% include "browser/_dataset_as_search_result.html" with dataset=dataset %}
                            {% endfor %}

                        </ul>

                    </div>

                </div>

                {% else %}

                <div class="container">
                    <div class="container text-center">

                        <h3>No results found.</h3>
                        <p>Please try another search.</p>

                    </div>
                </div>

                {% endif %}

                <div id="push"></div>

            </div>

{% endblock content %}